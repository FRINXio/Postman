{
	"info": {
		"name": "PC_Unified_L3VPN",
		"_postman_id": "3cf4af6d-5ee5-7519-0299-4dd747fcfc8b",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Classic L3VPN BGP CRUD",
			"item": [
				{
					"name": "Classic L3VPN BGP CRUD Setup",
					"item": [
						{
							"name": "Delete interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-interfaces:interfaces/interface/{{l3_vpn_bgp_nonexist_interface_id}}"
							},
							"response": []
						},
						{
							"name": "Delete L3VPN BGP defined sets",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
							},
							"response": []
						},
						{
							"name": "Delete previous 2. L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
							},
							"response": []
						},
						{
							"name": "Delete previous L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (network instance)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (defined sets)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
							},
							"response": []
						},
						{
							"name": "Delete BGP global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "show deleted BGP global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Success\", function () {",
											"     pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Classic L3VPN BGP READERS",
					"item": [
						{
							"name": "Delete previous L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"input\" :\n  {\n     \"ios-cli:command\" : \"conf t\nno router bgp {{l3_vpn_bgp_as_number}}\ninterface {{l3_vpn_bgp_interface_id}}\nno ip vrf forwarding {{l3_vpn_bgp_vrf}}\nexit\nno ip vrf {{l3_vpn_bgp_vrf}}\nexit\n\"\n  }\n}\n"
								},
								"url": "http://{{odl_ip}}:8181/restconf/operations/network-topology:network-topology/topology/{{topology_id_cli}}/node/{{node_id}}/yang-ext:mount/cli-unit-generic:execute-and-read"
							},
							"response": []
						},
						{
							"name": "Configure L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"input\" :\n  {\n     \"ios-cli:command\" : \"conf t\nip vrf {{l3_vpn_bgp_vrf}}\nrd {{l3_vpn_bgp_rd}}\nroute-target export {{l3_vpn_bgp_rt_exp_1}}\nroute-target export {{l3_vpn_bgp_rt_exp_2}}\nroute-target export {{l3_vpn_bgp_rt_exp_3}}\nroute-target import {{l3_vpn_bgp_rt_imp_1}}\nroute-target import {{l3_vpn_bgp_rt_imp_2}}\nroute-target import {{l3_vpn_bgp_rt_imp_3}}\nexit\ninterface {{l3_vpn_bgp_interface_id}}\nip vrf forwarding {{l3_vpn_bgp_vrf}}\nexit\nrouter bgp {{l3_vpn_bgp_as_number}}\nbgp router-id {{l3_vpn_bgp_router_id}}\naddress-family ipv4 vrf {{l3_vpn_bgp_vrf}}\nnetwork {{l3_vpn_bgp_network_prefix}} mask {{l3_vpn_bgp_network_prefix_mask1}}\nneighbor {{l3_vpn_bgp_neighbor_address}} remote-as {{l3_vpn_bgp_remote_as}}\nneighbor {{l3_vpn_bgp_neighbor_address}} activate\nexit\nexit\nexit\n\"\n  }\n}\n"
								},
								"url": "http://{{odl_ip}}:8181/restconf/operations/network-topology:network-topology/topology/{{topology_id_cli}}/node/{{node_id}}/yang-ext:mount/cli-unit-generic:execute-and-read"
							},
							"response": []
						},
						{
							"name": "show L3VPN BGP network instance",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"  pm.response.to.have.status(200);",
											"});",
											"//config name",
											"pm.test(\"Validate config name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
											"});",
											"//route-distinguisher",
											"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
											"});",
											"//network-instance name",
											"pm.test(\"Validate network-instance name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
											"});",
											"//neighbor-address",
											"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
											"});",
											"//config neighbor-address",
											"pm.test(\"Validate config neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
											"});",
											"//peer-as",
											"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
											"});",
											"//enabled",
											"pm.test(\"Validate enabled = \" + pm.environment.get(\"l3_vpn_bgp_protocol_enabled\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"enabled\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_protocol_enabled\")));",
											"});",
											"//config afi-safi-name",
											"pm.test(\"Validate config afi-safi-name = \" + pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"afi-safis\"][\"afi-safi\"][0][\"config\"][\"afi-safi-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"));",
											"});",
											"//afi-safi-name",
											"pm.test(\"Validate afi-safi-name = \" + pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"afi-safis\"][\"afi-safi\"][0][\"afi-safi-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"));",
											"});",
											"//global config as",
											"pm.test(\"Validate global config as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
											"});",
											"//config afi-safi-name",
											"pm.test(\"Validate config afi-safi-name = \" + pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"afi-safis\"][\"afi-safi\"][0][\"config\"][\"afi-safi-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"));",
											"});",
											"//afi-safi-name",
											"pm.test(\"Validate afi-safi-name = \" + pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"afi-safis\"][\"afi-safi\"][0][\"afi-safi-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_types_IPV4_UNICAST\"));",
											"});",
											"//prefix",
											"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + \"/\" + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + \"/\" + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
											"});",
											"//config prefix",
											"pm.test(\"Validate config prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + \"/\" + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + \"/\" + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
											"});",
											"//identifier",
											"pm.test(\"Validate identifier = \" + pm.environment.get(\"l3_vpn_bgp_table_policy\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"identifier\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_table_policy\"));",
											"});",
											"//config identifier",
											"pm.test(\"Validate config identifier = \" + pm.environment.get(\"l3_vpn_bgp_table_policy\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"config\"][\"identifier\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_table_policy\"));",
											"});",
											"//config bgp name",
											"pm.test(\"Validate config name = \" + pm.environment.get(\"bgp_ni-name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"bgp_ni-name\"));",
											"});",
											"//bgp name",
											"pm.test(\"Validate bgp name = \" + pm.environment.get(\"bgp_ni-name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"name\"]).to.eql(pm.environment.get(\"bgp_ni-name\"));",
											"});",
											"//identifier",
											"pm.test(\"Validate identifier = \" + pm.environment.get(\"l3_vpn_STATIC_table_policy\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"identifier\"]).to.eql(pm.environment.get(\"l3_vpn_STATIC_table_policy\"));",
											"});",
											"//config identifier",
											"pm.test(\"Validate config identifier = \" + pm.environment.get(\"l3_vpn_STATIC_table_policy\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"config\"][\"identifier\"]).to.eql(pm.environment.get(\"l3_vpn_STATIC_table_policy\"));",
											"});",
											"//config name",
											"pm.test(\"Validate config name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
											"});",
											"//name",
											"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
											"});",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show L3VPN BGP defined sets",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"  pm.response.to.have.status(200);",
											"});",
											"//ext-community-set-name",
											"pm.test(\"Validate ext-community-set-name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\", function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\");",
											"});",
											"//config ext-community-set-name",
											"pm.test(\"Validate config ext-community-set-name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\", function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\");",
											"});",
											"//ext-community-member 1",
											"pm.test(\"Validate ext-community-member 1 = \" + pm.environment.get(\"l3_vpn_bgp_rt_imp_1\"), function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"][0]).to.eql(pm.environment.get(\"l3_vpn_bgp_rt_imp_1\"));",
											"});",
											"//ext-community-member 2",
											"pm.test(\"Validate ext-community-member 2 = \" + pm.environment.get(\"l3_vpn_bgp_rt_imp_2\"), function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"][1]).to.eql(pm.environment.get(\"l3_vpn_bgp_rt_imp_2\"));",
											"});",
											"//ext-community-member 3",
											"pm.test(\"Validate ext-community-member 3 = \" + pm.environment.get(\"l3_vpn_bgp_rt_imp_3\"), function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"][2]).to.eql(pm.environment.get(\"l3_vpn_bgp_rt_imp_3\"));",
											"});",
											"//ext-community-set-name",
											"pm.test(\"Validate ext-community-set-name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\", function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\");",
											"});",
											"//config ext-community-set-name",
											"pm.test(\"Validate ext-community-set-name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\", function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\");",
											"});",
											"//ext-community-member 4",
											"pm.test(\"Validate  = ext-community-member 4\" + pm.environment.get(\"l3_vpn_bgp_rt_exp_1\"), function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"][0]).to.eql(pm.environment.get(\"l3_vpn_bgp_rt_exp_1\"));",
											"});",
											"//ext-community-member 5",
											"pm.test(\"Validate  = ext-community-member 5\" + pm.environment.get(\"l3_vpn_bgp_rt_exp_2\"), function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"][1]).to.eql(pm.environment.get(\"l3_vpn_bgp_rt_exp_2\"));",
											"});",
											"//ext-community-member 6",
											"pm.test(\"Validate  = ext-community-member 6\" + pm.environment.get(\"l3_vpn_bgp_rt_exp_3\"), function() {",
											"  pm.expect(pm.response.json()[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"][2]).to.eql(pm.environment.get(\"l3_vpn_bgp_rt_exp_3\"));",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
							},
							"response": []
						},
						{
							"name": "Delete previous L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"input\" :\n  {\n     \"ios-cli:command\" : \"conf t\nno router bgp {{l3_vpn_bgp_as_number}}\ninterface {{l3_vpn_bgp_interface_id}}\nno ip vrf forwarding {{l3_vpn_bgp_vrf}}\nexit\nno ip vrf {{l3_vpn_bgp_vrf}}\nexit\n\"\n  }\n}\n"
								},
								"url": "http://{{odl_ip}}:8181/restconf/operations/network-topology:network-topology/topology/{{topology_id_cli}}/node/{{node_id}}/yang-ext:mount/cli-unit-generic:execute-and-read"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (network instance)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (defined sets)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Success\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "Classic L3VPN OSPF CRUD",
			"item": [
				{
					"name": "Classic L3VPN OSPF CRUD Setup",
					"item": [
						{
							"name": "Delete previous OSPF global 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/888"
							},
							"response": []
						},
						{
							"name": "Delete previous OSPF <-> BGP redis",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/table-connections"
							},
							"response": []
						},
						{
							"name": "Delete previous BGP global for OSPF",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "Delete previous global OSPF1",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Delete previous global OSPF2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Delete previous global OSPF3",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "Delete previous OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "XR L3VPN BGP CRUD",
			"item": [
				{
					"name": "XR L3VPN BGP CRUD Setup",
					"item": [
						{
							"name": "Delete interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-interfaces:interfaces/interface/{{l3_vpn_bgp_nonexist_interface_id}}"
							},
							"response": []
						},
						{
							"name": "Delete L3VPN BGP defined sets",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Success\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
							},
							"response": []
						},
						{
							"name": "Delete previous 2. L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
							},
							"response": []
						},
						{
							"name": "Delete previous L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (network instance)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (defined sets)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
							},
							"response": []
						},
						{
							"name": "Delete BGP global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "show deleted BGP global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "XR L3VPN BGP READERS",
					"item": [
						{
							"name": "Delete previous L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"input\" :\n  {\n     \"ios-cli:command\" : \"conf t\nno router bgp {{l3_vpn_bgp_as_number}}\ninterface {{l3_vpn_bgp_interface_id}}\nno vrf {{l3_vpn_bgp_vrf}}\nexit\nno vrf {{l3_vpn_bgp_vrf}}\ncommit\nend\"\n  }\n}\n"
								},
								"url": "http://{{odl_ip}}:8181/restconf/operations/network-topology:network-topology/topology/{{topology_id_cli}}/node/{{node_id}}/yang-ext:mount/cli-unit-generic:execute-and-read"
							},
							"response": []
						},
						{
							"name": "Configure L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"input\" :\n  {\n     \"ios-cli:command\" : \"conf t\nvrf {{l3_vpn_bgp_vrf}}\naddress-family ipv4 unicast \nimport route-target \n{{l3_vpn_bgp_rt_imp_1}}\n{{l3_vpn_bgp_rt_imp_2}}\n{{l3_vpn_bgp_rt_imp_3}}\nexit\nexport route-target \n{{l3_vpn_bgp_rt_exp_1}}\n{{l3_vpn_bgp_rt_exp_2}}\n{{l3_vpn_bgp_rt_exp_3}}\nexit\nexit\nexit\ninterface {{l3_vpn_bgp_interface_id}}\nvrf {{l3_vpn_bgp_vrf}}\nexit\nrouter bgp {{l3_vpn_bgp_as_number}}\nbgp router-id {{l3_vpn_bgp_router_id}}\naddress-family vpnv4 unicast\nvrf {{l3_vpn_bgp_vrf}}\nrd {{l3_vpn_bgp_rd}}\naddress-family ipv4 unicast \nnetwork {{l3_vpn_bgp_network_prefix}} {{l3_vpn_bgp_network_prefix_mask1}}\nexit\nneighbor {{l3_vpn_bgp_neighbor_address}}\nremote-as {{l3_vpn_bgp_remote_as}}\naddress-family ipv4 unicast \nroute-policy RPL_PASS_ALL in\nroute-policy RPL_PASS_ALL out\ncommit\nexit\nexit\nexit\nexit\nend\"\n  }\n}\n"
								},
								"url": "http://{{odl_ip}}:8181/restconf/operations/network-topology:network-topology/topology/{{topology_id_cli}}/node/{{node_id}}/yang-ext:mount/cli-unit-generic:execute-and-read"
							},
							"response": []
						},
						{
							"name": "show L3VPN BGP network instance",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Validate name\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
											"});",
											"pm.test(\"Validate name\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
											"});",
											"",
											"pm.test(\"Validate id\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
											"});",
											"",
											"pm.test(\"Validate as\", function() {",
											"    var str = pm.environment.get(\"l3_vpn_bgp_as_number\");",
											"    var pos = str.lastIndexOf(\".\")",
											"    var res = str.substring(0, pos);",
											"    var num = res * 65536 + Number(str.substring(pos + 1,str.length));",
											"    pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(num);",
											"});",
											"",
											"",
											"//in SETUP Configure L3VPN BGP I configure router-id for global BGP",
											"//this GET reader is for VRF - this is reason why it did not get into reader output",
											"//postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\")",
											"",
											"pm.test(\"Validate route-distinguisher\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
											"});",
											"",
											"pm.test(\"Validate prefix\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\"));",
											"});",
											"pm.test(\"Validate prefix\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\"));",
											"});",
											"",
											"pm.test(\"Validate neighbor-address\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
											"});",
											"pm.test(\"Validate neighbor-address\", function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
											"});",
											"",
											"pm.test(\"Validate peer-as\", function() {",
											"    var str = pm.environment.get(\"l3_vpn_bgp_remote_as\");",
											"    var pos = str.lastIndexOf(\".\")",
											"    var res = str.substring(0, pos);",
											"    var num = res * 65536 + Number(str.substring(pos + 1,str.length));",
											"    pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(num);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show L3VPN BGP defined sets",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"tests[\"Status code is 200\"] = responseCode.code === 200;",
											"",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"/*-- THIS DOES NOR WORK IN NEWMAN",
											"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
											"",
											"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
											"",
											"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
											"*/",
											"",
											"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
											"    ",
											"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
											"    ",
											"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
											"",
											"",
											"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
											"    console.log(pole);",
											"    for (var i = 0; i < pole.length; i++) {",
											"        switch(pole[i]) {",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
											"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
											"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
											"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
											"                break;",
											"            default:",
											"                test[\"Found not expected value \" + pole[i]] = false;",
											"        } ",
											"    }",
											"",
											"",
											"    /*",
											"    // this is not good because it relies on ordered input in environmental variabes....",
											"    ",
											"    pole.sort();",
											"    console.log(pole);",
											"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
											"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
											"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
											"    */",
											"",
											"",
											"} else {",
											"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
											"    ",
											"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
											"    ",
											"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
											"    console.log(pole);",
											"    for (var i = 0; i < pole.length; i++) {",
											"        switch(pole[i]) {",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
											"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
											"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
											"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
											"                break;",
											"            default:",
											"                test[\"Found not expected value \" + pole[i]] = false;",
											"        } ",
											"    }",
											"    ",
											"}",
											"",
											"",
											"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
											"    ",
											"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
											"    ",
											"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
											"",
											"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
											"    console.log(pole);",
											"    for (var i = 0; i < pole.length; i++) {",
											"        switch(pole[i]) {",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
											"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
											"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
											"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
											"                break;",
											"            default:",
											"                test[\"Found not expected value \" + pole[i]] = false;",
											"        } ",
											"    }",
											"} else {",
											"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
											"    ",
											"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
											"    ",
											"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
											"    console.log(pole);",
											"    for (var i = 0; i < pole.length; i++) {",
											"        switch(pole[i]) {",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
											"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
											"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
											"                break;",
											"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
											"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
											"                break;",
											"            default:",
											"                test[\"Found not expected value \" + pole[i]] = false;",
											"        } ",
											"    }",
											"    ",
											"}",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
							},
							"response": []
						},
						{
							"name": "Delete previous L3VPN BGP",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"input\" :\n  {\n     \"ios-cli:command\" : \"conf t\nno router bgp {{l3_vpn_bgp_as_number}}\ninterface {{l3_vpn_bgp_interface_id}}\nno vrf {{l3_vpn_bgp_vrf}}\nexit\nno vrf {{l3_vpn_bgp_vrf}}\ncommit\nend\"\n  }\n}\n"
								},
								"url": "http://{{odl_ip}}:8181/restconf/operations/network-topology:network-topology/topology/{{topology_id_cli}}/node/{{node_id}}/yang-ext:mount/cli-unit-generic:execute-and-read"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (network instance)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
							},
							"response": []
						},
						{
							"name": "show deleted L3VPN BGP (defined sets)",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "XR L3VPN OSPF CRUD",
			"item": [
				{
					"name": "XR L3VPN OSPF CRUD Setup",
					"item": [
						{
							"name": "Delete previous OSPF global 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DEL request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/888"
							},
							"response": []
						},
						{
							"name": "Delete previous OSPF <-> BGP redis",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/table-connections"
							},
							"response": []
						},
						{
							"name": "Delete previous BGP global for OSPF",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "Delete previous global OSPF1",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Delete previous global OSPF2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Delete previous global OSPF3",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "To update ODL cache after deleting OSPF/33 and  before an attempt to delete network-instance/33",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "Delete previous OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "Tests",
			"description": "",
			"item": [
				{
					"name": "L3VPN OSPF CRUD",
					"item": [
						{
							"name": "Create OSPF  global 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_1_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_1_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": {{l3_vpn_ospf_area_id}},\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                        \"config\": {\n                                        \t\"id\": \"{{l3_vpn_ospf_interface}}\",\n                                            \"metric\": {{l3_vpn_ospf_metric}}\n                                        }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\": {{l3_vpn_ospf_area_id}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"identifier\"]).to.eql(\"frinx-openconfig-policy-types:OSPF\")",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 name is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_1_name\"))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 router id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_router_id\"))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 area id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_area_id\")))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 area interface id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface\"))",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Create OSPF global 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id2}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": {{l3_vpn_ospf_area_id2}},\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                        \"config\": {\n                                        \t\"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                            \"metric\": {{l3_vpn_ospf_metric2}}\n                                        }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\": {{l3_vpn_ospf_area_id2}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 2 name is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_2_name\"))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 2 router id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_router_id2\"))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 2 area id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_area_id2\")))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 2 area interface id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"))",
											"});",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 2 area interface metric is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"config\"][\"metric\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_metric2\")))",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Update OSPF2 area",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id2}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": {{l3_vpn_ospf_area_id3}},\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                        \"config\": {\n                                        \t\"id\": \"{{l3_vpn_ospf_interface2}}\"\n                                        }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\": {{l3_vpn_ospf_area_id3}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show updated area",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the OSPF global instance 2 name is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_2_name\"))",
											"});",
											"",
											"pm.test(\"Verify the   OSPF global instance 2 area id was updated\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_area_id3\")))",
											"});",
											"",
											"pm.test(\"Verify the  OSPF global instance 2 area interface id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"))",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Update OSPF2 metric",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id2}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": \"{{l3_vpn_ospf_area_id3}}\",\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                        \"config\": {\n                                        \t \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                        \t  \"metric\": {{l3_vpn_ospf_metric3}}\n                                        \t }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\": {{l3_vpn_ospf_area_id3}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show updated OSPF metric",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the  OSPF global instance 2 area interface metric is updated\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"config\"][\"metric\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_metric3\")))",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Remove OSPF interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"protocol\": [\r\n        {\r\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\r\n            \"name\": \"{{l3_vpn_ospf_instance_1_name}}\",\r\n            \"config\": {\r\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\r\n                \"name\": \"{{l3_vpn_ospf_instance_1_name}}\"\r\n            },\r\n            \"ospfv2\": {\r\n                \"global\": {\r\n                    \"config\": {\r\n                        \"router-id\": \"{{l3_vpn_router_id}}\"\r\n                    }\r\n                },\r\n                \"areas\": {\r\n                    \"area\": [\r\n                        {\r\n                            \"identifier\": {{l3_vpn_ospf_area_id}},\r\n                            \"config\": {\r\n                                \"identifier\": {{l3_vpn_ospf_area_id}}\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "show updated OSPF without interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"var mystring = \"\\\"interface\\\":\\\"\" + String (postman.getEnvironmentVariable(\"l3_vpn_ospf_interface\"))+\"\\\"\";",
											"tests[\"Body doesnt matches string\" + mystring] = !responseBody.has(mystring);"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Remove OSPF2 interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"protocol\": [\r\n        {\r\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\r\n            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\r\n            \"config\": {\r\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\r\n                \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\r\n            },\r\n            \"ospfv2\": {\r\n                \"global\": {\r\n                    \"config\": {\r\n                        \"router-id\": \"{{l3_vpn_router_id2}}\"\r\n                    }\r\n                },\r\n                \"areas\": {\r\n                    \"area\": [\r\n                        {\r\n                            \"identifier\": \"{{l3_vpn_ospf_area_id3}}\",\r\n                             \"config\": {\r\n                                \"identifier\": {{l3_vpn_ospf_area_id3}}\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show updated OSPF2 without interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"var mystring = \"\\\"interface\\\":\\\"\" + String (postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"))+\"\\\"\";",
											"tests[\"Body doesnt matches string\" + mystring] = !responseBody.has(mystring); "
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Update OSPF2 2 interafces added",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id2}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": \"{{l3_vpn_ospf_area_id3}}\",\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                        \"config\": {\n                                        \t \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                        \t  \"metric\": {{l3_vpn_ospf_metric3}}\n                                        \t }\n                                    },\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                        \"config\": {\n                                        \t \"id\": \"{{l3_vpn_ospf_interface2}}\"\n                                        \t }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\":  {{l3_vpn_ospf_area_id3}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF2 updated interafces",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the  OSPF global instance 2 area interface[0]  ospf metric was added\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][1][\"config\"][\"metric\"]) === JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_metric3\"))",
											"});",
											"",
											"pm.test(\"Verify the  OSPF global instance 2 area interface[0] is added\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]) === postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\")",
											"});",
											"",
											"pm.test(\"Verify the  OSPF global instance 2 area interface[1] is added\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][1][\"id\"]) === postman.getEnvironmentVariable(\"l3_vpn_ospf_interface\")",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Update OSPF2 - remove interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id2}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": \"{{l3_vpn_ospf_area_id3}}\",\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                        \"config\": {\n                                        \t \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                        \t  \"metric\": {{l3_vpn_ospf_metric3}}\n                                        \t }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\":  {{l3_vpn_ospf_area_id3}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show updated OSPF2 without interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"var mystring = \"\\\"interface\\\":\\\"\" + String (postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"))+\"\\\"\";",
											"tests[\"Body doesnt matches string\" + mystring] = !responseBody.has(mystring); "
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"network-instance\": [\n        {\n            \"name\": \"{{l3_vpn_ospf_instance_3_name}}\",\n            \"protocols\": {\n                \"protocol\": [\n                    {\n                        \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                        \"name\": \"{{l3_vpn_ospf_instance_3_name}}\",\n                        \"config\": {\n                            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                            \"name\": \"{{l3_vpn_ospf_instance_3_name}}\"\n                        },\n                        \"ospfv2\": {\n                            \"global\": {\n                                \"config\": {\n                                    \"router-id\": \"{{l3_vpn_router_id3}}\"\n                                }\n                            },\n                            \"areas\": {\n                                \"area\": [\n                                    {\n                                        \"identifier\": \"{{l3_vpn_ospf_area_id}}\",\n                                        \"interfaces\": {\n                                            \"interface\": [\n                                                {\n                                                    \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                                    \"config\": {\n                                                        \"id\": \"{{l3_vpn_ospf_interface2}}\"\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        \"config\": {\n                                            \"identifier\": \"{{l3_vpn_ospf_area_id}}\"\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                ]\n            },\n            \"interfaces\": {\n                \"interface\": [\n                    {\n                        \"id\": \"{{l3_vpn_ospf_interface2}}\"\n                    }\n                ]\n            },\n            \"config\": {\n                \"name\": \"{{l3_vpn_ospf_instance_3_name}}\",\n                \"type\": \"frinx-openconfig-network-instance-types:L3VRF\"\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the  OSPF VRF network-instance was added\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"network-instance\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\"))",
											"});",
											"",
											"pm.test(",
											"    '\"name\":' + postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\") + ', ' +",
											"    '\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_router_id3\") + '\"' + ', ' +",
											"    '\"interface id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\") + '\"' + ', ' +",
											"    '\"interface id\":' + postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\") + '\"', function () {",
											"    var jsonData = pm.response.json();",
											"    console.log(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"])",
											"    var arrayLength = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"].length",
											"    if (arrayLength > 0) {",
											"        for (var i = 0; i < arrayLength; i++) {",
											"            if ((jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"name\"] == postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\")) && (jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"identifier\"] == \"frinx-openconfig-policy-types:OSPF\")) {",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\"))",
											"                ;",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_router_id3\"))",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_area_id\")))",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"));",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"config\"][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"));",
											"            }",
											"        }        ",
											"    }",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "Delete OSPF global 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show deleted OSPF2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody);",
											"",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"pm.test(\"Verify the  OSPF VRF network-instance was added\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"network-instance\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\"))",
											"});",
											"",
											"pm.test(",
											"    '\"name\":' + postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\") + ', ' +",
											"    '\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_router_id3\") + '\"' + ', ' +",
											"    '\"interface id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\") + '\"' + ', ' +",
											"    '\"interface id\":' + postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\") + '\"', function () {",
											"    var jsonData = pm.response.json();",
											"    console.log(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"])",
											"    var arrayLength = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"].length",
											"    if (arrayLength > 0) {",
											"        for (var i = 0; i < arrayLength; i++) {",
											"            if ((jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"name\"] == postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\")) && (jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"identifier\"] == \"frinx-openconfig-policy-types:OSPF\")) {",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_3_name\"))",
											"                ;",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_router_id3\"))",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_area_id\")))",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"));",
											"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"config\"][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface2\"));",
											"            }",
											"        }        ",
											"    }",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "OSPF VRF + ospf without interface",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"network-instance\": [\n        {\n            \"name\": \"{{l3_vpn_ospf_instance_3_name}}\",\n            \"protocols\": {\n                \"protocol\": [\n                    {\n                        \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                        \"name\": \"{{l3_vpn_ospf_instance_3_name}}\",\n                        \"config\": {\n                            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                            \"name\": \"{{l3_vpn_ospf_instance_3_name}}\"\n                        },\n                        \"ospfv2\": {\n                            \"global\": {\n                                \"config\": {\n                                    \"router-id\": \"{{l3_vpn_router_id3}}\"\n                                }\n                            },\n                            \"areas\": {\n                                \"area\": [\n                                    {\n                                        \"identifier\": \"{{l3_vpn_ospf_area_id}}\",\n                                        \"config\": {\n                                            \"identifier\": \"{{l3_vpn_ospf_area_id}}\"\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                ]\n            },\n            \"config\": {\n                \"name\": \"{{l3_vpn_ospf_instance_3_name}}\",\n                \"type\": \"frinx-openconfig-network-instance-types:L3VRF\"\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "OSPF VRF + ospf 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"network-instance\": [\n        {\n            \"name\": \"{{l3_vpn_ospf_ni_name}}\",\n            \"protocols\": {\n                \"protocol\": [\n                \t{\n                        \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                        \"name\": \"{{l3_vpn_ospf_instance_2_name}}\",\n                        \"config\": {\n                            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                            \"name\": \"{{l3_vpn_ospf_instance_2_name}}\"\n                        },\n                        \"ospfv2\": {\n                            \"global\": {\n                                \"config\": {\n                                    \"router-id\": \"{{l3_vpn_router_id2}}\"\n                                }\n                            },\n                            \"areas\": {\n                                \"area\": [\n                                    {\n                                        \"identifier\": \"{{l3_vpn_ospf_area_id}}\",\n                                        \"interfaces\": {\n                                            \"interface\": [\n                                                {\n                                                    \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                                    \"config\": {\n                                                        \"id\": \"{{l3_vpn_ospf_interface}}\"\n                                                    }\n                                                },\n                                                {\n                                                    \"id\": \"{{l3_vpn_ospf_interface2}}\",\n                                                    \"config\": {\n                                                        \"id\": \"{{l3_vpn_ospf_interface2}}\"\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        \"config\": {\n                                            \"identifier\": \"{{l3_vpn_ospf_area_id}}\"\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                ]\n            },\n            \"interfaces\": {\n                \"interface\": [\n                    {\n                        \"id\": \"{{l3_vpn_ospf_interface2}}\"\n                    },\n                    {\n                        \"id\": \"{{l3_vpn_ospf_interface}}\"\n                    }\n                ]\n            },\n            \"config\": {\n                \"name\": \"{{l3_vpn_ospf_ni_name}}\",\n                \"type\": \"frinx-openconfig-network-instance-types:L3VRF\"\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_ni_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF VRF + ospf 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"  pm.response.to.have.status(200);",
											"});",
											"//name",
											"pm.test(\"Validate config name = \" + pm.environment.get(\"l3_vpn_ospf_ni_name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_ni_name\"));",
											"});",
											"//name",
											"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_ospf_ni_name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_ni_name\"));",
											"});",
											"//name",
											"pm.test(\"Validate ospf1 config  name = \" + pm.environment.get(\"l3_vpn_ospf_instance_2_name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_instance_2_name\"));",
											"});",
											"//name",
											"pm.test(\"Validate ospf1 name = \" + pm.environment.get(\"l3_vpn_ospf_instance_2_name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_instance_2_name\"));",
											"});",
											"//router-id",
											"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_router_id2\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_router_id2\"));",
											"});",
											"//id",
											"pm.test(\"Validate interface config id = \" + pm.environment.get(\"l3_vpn_ospf_interface\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"config\"][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_interface\"));",
											"});",
											"//id",
											"pm.test(\"Validate interface  id = \" + pm.environment.get(\"l3_vpn_ospf_interface\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_interface\"));",
											"});",
											"//id",
											"pm.test(\"Validate interface2 config id = \" + pm.environment.get(\"l3_vpn_ospf_interface2\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][1][\"config\"][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_interface2\"));",
											"});",
											"//id",
											"pm.test(\"Validate interface2 id = \" + pm.environment.get(\"l3_vpn_ospf_interface2\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][1][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_interface2\"));",
											"});",
											"//identifier",
											"pm.test(\"Validate identifier = \" + pm.environment.get(\"l3_vpn_ospf_area_id\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_ospf_area_id\")));",
											"});",
											"//identifier",
											"pm.test(\"Validate config identifier = \" + pm.environment.get(\"l3_vpn_ospf_area_id\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"config\"][\"identifier\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_ospf_area_id\")));",
											"});",
											"//name",
											"pm.test(\"Validate ospf2 config name = \" + pm.environment.get(\"l3_vpn_ospf_instance_3_name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_instance_3_name\"));",
											"});",
											"//name",
											"pm.test(\"Validate ospf2 name = \" + pm.environment.get(\"l3_vpn_ospf_instance_3_name\"), function() {",
											"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_ospf_instance_3_name\"));",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_ni_name}}"
							},
							"response": []
						},
						{
							"name": "Delete OSPF VRF + ospf 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_ni_name}}"
							},
							"response": []
						},
						{
							"name": "show deleted removed OSPF VRF + ospf 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.warn(\"// FIXME this returns data instead of returning 404\")",
											"",
											"// console.log(\"Response: \" + responseBody)",
											"/*",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"*/"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_ni_name}}"
							},
							"response": []
						},
						{
							"name": "show deleted OSPF1 copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.warn(\"// FIXME this returns data instead of returning 404\")",
											"",
											"// console.log(\"Response: \" + responseBody)",
											"/*",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"*/"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Delete OSPF1",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "show deleted OSPF1",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.warn(\"// FIXME this returns data instead of returning 404\")",
											"",
											"// console.log(\"Response: \" + responseBody)",
											"/*",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"*/"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Configure BGP global for OSPF",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"console.log(\"Response: \" + responseBody)",
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n   \"protocol\":[\n      {\n         \"name\":\"default\",\n         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n         \"config\":{\n            \"name\":\"default\",\n            \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n            \"enabled\":true\n         },\n         \"local-aggregates\":{\n            \"aggregate\":[\n               {\n                  \"prefix\":\"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n                  \"config\":{\n                     \"prefix\":\"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n                  }\n               }\n            ]\n         },\n         \"bgp\":{\n            \"global\":{\n               \"config\":{\n                  \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n               },\n               \"afi-safis\":{\n                  \"afi-safi\":[\n                     {\n                        \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"config\":{\n                           \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                           \"enabled\":true\n                        }\n                     }\n                  ]\n               }\n            },\n            \"neighbors\":{\n               \"neighbor\":[\n                  {\n                     \"neighbor-address\":\"{{l3_vpn_bgp_global_neighbor_address}}\",\n                     \"config\":{\n                        \"neighbor-address\":\"{{l3_vpn_bgp_global_neighbor_address}}\",\n                        \"enabled\":true,\n                        \"peer-as\":\"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                     },\n                     \"afi-safis\":{\n                        \"afi-safi\":[\n                           {\n                              \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                              \"config\":{\n                                 \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                                 \"enabled\":true\n                              }\n                           }\n                        ]\n                     }\n                  }\n               ]\n            }\n         }\n      }\n   ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "show configured BGP global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Response: \" + responseBody)",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"  pm.response.to.have.status(200);",
											"});",
											"",
											"//name",
											"pm.test(\"Validate name = \" + \"default\", function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
											"});",
											"//name",
											"pm.test(\"Validate name = \" + \"default\", function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
											"});",
											"//as",
											"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
											"});",
											"//router-id",
											"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
											"});",
											"//neighbor-address",
											"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
											"});",
											"//neighbor-address",
											"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
											"});",
											"//peer-as",
											"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
											"});",
											"//prefix",
											"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
											"});",
											"//prefix",
											"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
											"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "Create OSPF  global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request1\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"{{l3_vpn_ospf_instance_1_name}}\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"{{l3_vpn_ospf_instance_1_name}}\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"{{l3_vpn_router_id}}\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": {{l3_vpn_ospf_area_id}},\n                            \"interfaces\": {\n                                \"interface\": [\n                                    {\n                                        \"id\": \"{{l3_vpn_ospf_interface}}\",\n                                        \"config\": {\n                                        \t\"id\": \"{{l3_vpn_ospf_interface}}\",\n                                            \"metric\": {{l3_vpn_ospf_metric}}\n                                        }\n                                    }\n                                ]\n                            },\n                            \"config\": {\n                                \"identifier\": {{l3_vpn_ospf_area_id}}\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "show OSPF global",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"identifier\"]).to.eql(\"frinx-openconfig-policy-types:OSPF\")",
											"});",
											"",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 name is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_instance_1_name\"))",
											"});",
											"",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 router id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_router_id\"))",
											"});",
											"",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 area id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"identifier\"]).to.eql(JSON.parse(postman.getEnvironmentVariable(\"l3_vpn_ospf_area_id\")))",
											"});",
											"",
											"",
											"pm.test(\"Verify the   Verify OSPF global instance 1 area interface id is present\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"protocol\"][0][\"ospfv2\"][\"areas\"][\"area\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_interface\"))",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Configure OSPF <-> BGP redis",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"table-connections\": {\n        \"table-connection\": [\n            {\n                \"config\": {\n                    \"src-protocol\": \"{{l3_vpn_ospf_table_policy}}\",\n                    \"dst-protocol\": \"{{l3_vpn_bgp_table_policy}}\",\n                \t\"address-family\": \"frinx-openconfig-types:IPV4\",\n                \t\"import-policy\": [\"PASS_ALL\"]\n                },\n                \"src-protocol\": \"{{l3_vpn_ospf_table_policy}}\",\n                \"dst-protocol\": \"{{l3_vpn_bgp_table_policy}}\",\n                \"address-family\": \"frinx-openconfig-types:IPV4\"\n\n            },\n            {\n                \"config\": {\n                    \"src-protocol\": \"{{l3_vpn_bgp_table_policy}}\",\n                    \"dst-protocol\": \"{{l3_vpn_ospf_table_policy}}\",\n                \"address-family\": \"frinx-openconfig-types:IPV4\",\n                \t\"import-policy\": [\"PASS_ALL\"]\n                },\n                \"address-family\": \"frinx-openconfig-types:IPV4\",\n                \"src-protocol\": \"{{l3_vpn_bgp_table_policy}}\",\n                \"dst-protocol\": \"{{l3_vpn_ospf_table_policy}}\"\n            }\n        ]\n    }\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/table-connections"
							},
							"response": []
						},
						{
							"name": "show configured redis",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"",
											"pm.test(\"Verify the  table-connections contains src-protocol\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"network-instance\"][0][\"table-connections\"][\"table-connection\"][0][\"src-protocol\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_table_policy\"))",
											"});",
											"",
											"",
											"pm.test(\"Verify the  table-connections contains dst-protocol\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"network-instance\"][0][\"table-connections\"][\"table-connection\"][0][\"dst-protocol\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_table_policy\"))",
											"});",
											"",
											"",
											"pm.test(\"Verify the  table-connections contains src-protocol2\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"network-instance\"][0][\"table-connections\"][\"table-connection\"][1][\"src-protocol\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_table_policy\"))",
											"});",
											"",
											"",
											"pm.test(\"Verify the  table-connections contains dst-protocol2\", function () { ",
											"var jsonData = pm.response.json();",
											"pm.expect(jsonData[\"network-instance\"][0][\"table-connections\"][\"table-connection\"][1][\"dst-protocol\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_ospf_table_policy\"))",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"username": "admin",
										"password": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default"
							},
							"response": []
						},
						{
							"name": "Update OSPF  global 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"console.log(\"Request data: \" + request.data.toString());",
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"protocol\": [\n        {\n            \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n            \"name\": \"888\",\n            \"config\": {\n                \"identifier\": \"frinx-openconfig-policy-types:OSPF\",\n                \"name\": \"888\"\n            },\n            \"ospfv2\": {\n                \"global\": {\n                    \"config\": {\n                        \"router-id\": \"88.88.88.89\"\n                    }\n                },\n                \"areas\": {\n                    \"area\": [\n                        {\n                            \"identifier\": 909,\n                            \"config\": {\n                                \"identifier\": 909\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/888"
							},
							"response": []
						},
						{
							"name": "Delete OSPF global 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DEL request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/888"
							},
							"response": []
						},
						{
							"name": "Delete OSPF <-> BGP redis",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
											"});",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/table-connections"
							},
							"response": []
						},
						{
							"name": "Delete BGP global for OSPF",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
							},
							"response": []
						},
						{
							"name": "Delete global OSPF1",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_1_name}}"
							},
							"response": []
						},
						{
							"name": "Delete OSPF2",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,404]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_ni_name}}/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_2_name}}"
							},
							"response": []
						},
						{
							"name": "Delete OSPF VRF + ospf",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful PUT request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						},
						{
							"name": "Delete OSPF3",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202,404]);",
											"});",
											""
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_ospf_instance_3_name}}/protocols/protocol/frinx-openconfig-policy-types:OSPF/{{l3_vpn_ospf_instance_3_name}}"
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "L3VPN BGP CRUD",
					"item": [
						{
							"name": "L3VPN BGP CRUD global",
							"description": "According\nhttps://github.com/FRINXio/translation-units-docs/blob/master/Configuration%20datasets/network-instances/protocols/bgp.md\nthere is no command set for XE device.",
							"item": [
								{
									"name": "BGP global",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n   \"protocol\":[\n      {\n         \"name\":\"default\",\n         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n         \"config\":{\n            \"name\":\"default\",\n            \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n            \"enabled\":true\n         },\n         \"local-aggregates\":{\n            \"aggregate\":[\n               {\n                  \"prefix\":\"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n                  \"config\":{\n                     \"prefix\":\"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n                  }\n               }\n            ]\n         },\n         \"bgp\":{\n            \"global\":{\n               \"config\":{\n                  \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n               },\n               \"afi-safis\":{\n                  \"afi-safi\":[\n                     {\n                        \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"config\":{\n                           \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                           \"enabled\":true\n                        }\n                     },\n                 {\n                    \"afi-safi-name\": \"frinx-openconfig-bgp-types:L3VPN_IPV4_UNICAST\",\n                       \"config\": {\n                           \"afi-safi-name\": \"frinx-openconfig-bgp-types:L3VPN_IPV4_UNICAST\",\n                           \"enabled\": true\n                       }\n                   }\n                  ]\n               }\n            },\n            \"neighbors\":{\n               \"neighbor\":[\n                  {\n                     \"neighbor-address\":\"{{l3_vpn_bgp_global_neighbor_address}}\",\n                     \"config\":{\n                        \"neighbor-address\":\"{{l3_vpn_bgp_global_neighbor_address}}\",\n                        \"enabled\":true,\n                        \"peer-as\":\"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                     },\n                     \"afi-safis\":{\n                        \"afi-safi\":[\n                           {\n                              \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                              \"config\":{\n                                 \"afi-safi-name\":\"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                                 \"enabled\":true\n                              }\n                           }\n                        ]\n                     }\n                  }\n               ]\n            }\n         }\n      }\n   ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "Configure L3VPN BGP with SAFI",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"console.log((new Date()).toISOString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log((new Date()).toISOString());",
													"setTimeout(function(){}, 90000);",
													""
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP network instance",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Configure L3VPN BGP defined sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP defined-sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"/*-- THIS DOES NOR WORK IN NEWMAN",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
													"*/",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP bgp-defined-sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"/*-- THIS DOES NOR WORK IN NEWMAN",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
													"*/",
													"",
													"if (jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"if (jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"    var pole = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    var pole = jsonData[\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"bgp-defined-sets\" {\r\n\t\text-community-sets {\r\n\t\t\text-community-set [\r\n\t\t\t\t{            \r\n\t\t\t\t\t\"config\": {\r\n                \t\t\"ext-community-set-name\": \"<vrf>-route-target-export-set\"\r\n                \t\t\"ext-community-set-member\": [\r\n                \t\t\t{<rt_exp_1>}\r\n                \t\t\t{<rt_exp_2>}\r\n                \t\t\t{<rt_exp_3>}\r\n                \t\t]\r\n           \t\t\t}\r\n        \t\t}\r\n        \t\t{            \r\n\t\t\t\t\t\"config\": {\r\n                \t\t\"ext-community-set-name\": \"<vrf>-route-target-import-set\"\r\n                \t\t\"ext-community-set-member\": [\r\n                \t\t\t{<rt_imp_1>}\r\n                \t\t\t{<rt_imp_2>}\r\n                \t\t\t{<rt_imp_3>}\r\n                \t\t]\r\n           \t\t\t}\r\n        \t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "Update 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_neighbor_address\";",
													"var configured_item_val = '66.66.67.0';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "Show updated 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"var configured_item_key = \"l3_vpn_bgp_neighbor_address\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_rd\";",
													"var configured_item_val = '65000:10';// After fix MU-226 change this value to 65000:100",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);",
													"console.warn(\"// FIXME MU-226 this does not work: Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to 65000:100');",
													""
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Show updated 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"var configured_item_key = \"l3_vpn_bgp_rd\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Delete interface",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,404]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-interfaces:interfaces/interface/{{l3_vpn_bgp_nonexist_interface_id}}"
									},
									"response": []
								},
								{
									"name": "Create other interface",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"interface\": [\n        {\n            \"name\": \"Loopback1970\",\n            \"config\": {\n                \"type\": \"iana-if-type:softwareLoopback\",\n                \"enabled\": true,\n                \"name\": \"Loopback1970\"\n            }\n        }\n    ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-interfaces:interfaces/interface/{{l3_vpn_bgp_nonexist_interface_id}}"
									},
									"response": []
								},
								{
									"name": "Update 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_interface_id\";",
													"var configured_item_val = 'Loopback1970';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "Show updated 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  //pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"]).to.be.an('array').to.deep.include({id:pm.environment.get(\"l3_vpn_bgp_interface_id\")});",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"//this needs to be fixed - there should be no GigabitEthernet0/0/0/2\" only  \"Loopback1970\"",
													"//not present replaced id",
													"pm.test(\"Check that previous interface is not present (id = \" + pm.environment.get(\"original_value\") + ')', function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"]).to.be.an('array').not.to.deep.include({id:pm.environment.get(\"original_value\")});",
													"});",
													"",
													"var configured_item_key = \"l3_vpn_bgp_interface_id\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 4",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_network_prefix\";",
													"var configured_item_val = '20.30.40.0';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "Show updated 4",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  //pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"]).to.be.an('array').to.deep.include({id:pm.environment.get(\"l3_vpn_bgp_interface_id\")});",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"var configured_item_key = \"l3_vpn_bgp_network_prefix\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 5",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_router_id\";",
													"var configured_item_val = '1.1.1.2';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "Show updated 5",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  //pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"]).to.be.an('array').to.deep.include({id:pm.environment.get(\"l3_vpn_bgp_interface_id\")});",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"var configured_item_key = \"l3_vpn_bgp_router_id\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 6",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_network_prefix_mask2\";",
													"var configured_item_val = '23';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Show updated 6",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  //pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"]).to.be.an('array').to.deep.include({id:pm.environment.get(\"l3_vpn_bgp_interface_id\")});",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"var configured_item_key = \"l3_vpn_bgp_network_prefix_mask2\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update L3VPN BGP defined sets 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_rt_imp_1\";",
													"var configured_item_val = '61000:15'; // must by lesser than l3_vpn_bgp_rt_imp_2",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show updated 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"/*-- THIS DOES NOR WORK IN NEWMAN",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
													"*/",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"",
													"",
													"var configured_item_key = \"l3_vpn_bgp_rt_imp_1\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "Update L3VPN BGP defined sets 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_rt_exp_1\";",
													"var configured_item_val = '62000:45';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show updated 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"/*-- THIS DOES NOR WORK IN NEWMAN",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
													"*/",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"",
													"var configured_item_key = \"l3_vpn_bgp_rt_exp_1\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "Update L3VPN BGP defined sets 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_rt_imp_4\";",
													"var configured_item_val = '61000:90';",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\",\n                            \"{{l3_vpn_bgp_rt_imp_4}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show updated 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_4\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_4\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_4\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_4\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"",
													"var configured_item_key = \"l3_vpn_bgp_rt_imp_4\";",
													"pm.environment.set(configured_item_key, undefined);",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "Update L3VPN BGP defined sets 4",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"var configured_item_key = \"l3_vpn_bgp_rt_imp_1\";",
													"var configured_item_val = '61000:15'; // must by lesser than l3_vpn_bgp_rt_imp_2",
													"pm.environment.set(\"original_value\", pm.environment.get(configured_item_key));",
													"pm.environment.set(configured_item_key, configured_item_val);",
													"console.log(\"Changing \" + configured_item_key + \" from \"  + pm.environment.get(\"original_value\") + ' to ' + configured_item_val);"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show updated 4",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"/*-- THIS DOES NOR WORK IN NEWMAN",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
													"*/",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													"var configured_item_key = \"l3_vpn_bgp_rt_imp_1\";",
													"pm.environment.set(configured_item_key, pm.environment.get(\"original_value\"));",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "Update L3VPN BGP defined sets 5",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show updated 5",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"/*-- THIS DOES NOR WORK IN NEWMAN",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")) === true;",
													"",
													"tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"].includes(postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")) === true;",
													"*/",
													"",
													"if (jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\") {",
													"    ",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 0\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][0][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"",
													"",
													"    /*",
													"    // this is not good because it relies on ordered input in environmental variabes....",
													"    ",
													"    pole.sort();",
													"    console.log(pole);",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = pole[0] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = pole[1] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\");",
													"    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = pole[2] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\");",
													"    */",
													"",
													"",
													"} else {",
													"    tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in 1\"] = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"    ",
													"    var pole = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"][1][\"config\"][\"ext-community-member\"];",
													"    console.log(pole);",
													"    for (var i = 0; i < pole.length; i++) {",
													"        switch(pole[i]) {",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                break;",
													"            case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                break;",
													"            default:",
													"                test[\"Found not expected value \" + pole[i]] = false;",
													"        } ",
													"    }",
													"    ",
													"}",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "Update 1a",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "show updated 1a",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"tests['\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"'] = jsonData[\"network-instance\"][0][\"name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"tests['\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"console.log(\"Response: \" +  jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]);",
													"tests['\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\");",
													"tests['\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\");",
													"tests['\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"tests['\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\");",
													"//tests['\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"'] = jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\");",
													"tests['\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"'] = jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\");",
													"//tests[] = jsonData[\"network-instance\"][\"\"][\"\"][\"\"][][\"\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"",
													"var mystring = [];",
													"mystring.push('\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"');",
													"",
													"mystring.forEach(function(entry) {",
													"    tests[\"Body does not match string \" + entry] = !responseBody.has(entry);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 1b",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      }\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}/interfaces"
									},
									"response": []
								},
								{
									"name": "show updated 1b",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"tests['\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"'] = jsonData[\"network-instance\"][0][\"name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"tests['\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"console.log(\"Response: \" +  jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]);",
													"tests['\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\");",
													"tests['\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\");",
													"tests['\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"tests['\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\");",
													"tests['\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"'] = (jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\")) || (jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][1][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\"));",
													"tests['\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"'] = jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\");",
													"//tests[] = jsonData[\"network-instance\"][\"\"][\"\"][\"\"][][\"\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 3a",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show updated 3a",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"tests['\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"'] = jsonData[\"network-instance\"][0][\"name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"tests['\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"//tests['\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\");",
													"//tests['\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\");",
													"//tests['\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"//tests['\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\");",
													"tests['\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"'] = jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\");",
													"tests['\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"'] = jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\");",
													"//tests[] = jsonData[\"network-instance\"][\"\"][\"\"][\"\"][][\"\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"",
													"",
													"var mystring = [];",
													"//mystring.push('\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"mystring.push('\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"');",
													"mystring.push('\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"');",
													"mystring.push('\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"mystring.push('\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"');",
													"",
													"mystring.forEach(function(entry) {",
													"    tests[\"Body does not match string \" + entry] = !responseBody.has(entry);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Update 3b",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"/*",
													"  This update does not create these item when it is run via Newman:",
													"  2. Body matches string \"router-id\":\"1.1.1.1\"",
													"  3. Body matches string \"neighbor-address\":\"66.66.66.0\"",
													"  4. Body matches string \"peer-as\":4194304010",
													"  5. Body matches string \"prefix\":\"10.20.30.0/24\"",
													"  5⠄ AssertionFailure in test-script",
													"*/",
													"console.log(\"Here we wait 60 seconds - be patient. The reasons is that this update was not able properly configure device.\")",
													"setTimeout(function(){}, 60000);",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show updated 3b",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var mystring = [];",
													"mystring.push('\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"');",
													"mystring.push('\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"mystring.push('\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"');",
													"mystring.push('\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"');",
													"mystring.push('\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"mystring.push('\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"');",
													"mystring.push('\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"');",
													"mystring.push('\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"');",
													"",
													"mystring.forEach(function(entry) {",
													"    tests[\"Body matches string \" + entry] = responseBody.has(entry);",
													"});",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "Update 4a",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show updated 4a",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"tests['\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"'] = jsonData[\"network-instance\"][0][\"name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"tests['\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"console.log(\"Response: \" +  jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]);",
													"tests['\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\");",
													"tests['\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\");",
													"tests['\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"//tests['\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\");",
													"tests['\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"'] = (jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\")) || (jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][1][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\"));",
													"tests['\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"'] = jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\");",
													"//tests[] = jsonData[\"network-instance\"][\"\"][\"\"][\"\"][][\"\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"",
													"var mystring = [];",
													"mystring.push('\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"');",
													"",
													"mystring.forEach(function(entry) {",
													"    tests[\"Body does not match string \" + entry] = !responseBody.has(entry);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "update 4b",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show updated 4b",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"tests['\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"'] = jsonData[\"network-instance\"][0][\"name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"tests['\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"console.log(\"Response: \" +  jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]);",
													"tests['\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\");",
													"tests['\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\");",
													"tests['\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"tests['\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\");",
													"tests['\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"'] = (jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\")) || (jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][1][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\"));",
													"tests['\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"'] = jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\");",
													"//tests[] = jsonData[\"network-instance\"][\"\"][\"\"][\"\"][][\"\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Configure 2. L3VPN BGP with SAFI",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf2}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf2}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd2}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id2}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id2}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf2}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf2}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "show  2. L3VPN BGP network instance",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test('\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\"));",
													"});",
													"",
													"pm.test('\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"), function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"",
													"pm.test('\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\"));",
													"});",
													"",
													"pm.test('\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"",
													"pm.test('\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"), function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"",
													"pm.test('\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][1][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"",
													"pm.test('\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id2\"));",
													"});",
													"",
													"pm.test('\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_rd2\"));",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "Configure L3VPN BGP defined sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP defined-sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"var testedobject = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"];",
													"var confcount = 0;",
													"confcount = testedobject.length;",
													"",
													"",
													"// test 1. VRF + import",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"",
													"",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"",
													"",
													"// test 1. VRF + export",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"    ",
													"",
													"// test 2. VRF + import",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                    tests[\"2. VRF - Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                    tests[\"2. VRF - Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                    tests[\"2. VRF - Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"",
													"",
													"// test 2. VRF + export",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                    tests[\"2. VRF - Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                    tests[\"2. VRF - Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                    tests[\"2. VRF - Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"    ",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": [
										{
											"id": "60fab7fb-75b0-434f-8625-42d9e976d9cc",
											"name": "show L3VPN BGP defined-sets",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Basic YWRtaW46YWRtaW4="
													},
													{
														"key": "Accept",
														"value": "application/json"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"_postman_previewtype": "text",
											"header": [
												{
													"key": "Content-Encoding",
													"value": "gzip",
													"name": "Content-Encoding",
													"description": "The type of encoding used on the data."
												},
												{
													"key": "Content-Type",
													"value": "application/json",
													"name": "Content-Type",
													"description": "The mime type of this content"
												},
												{
													"key": "Server",
													"value": "Jetty(8.1.19.v20160209)",
													"name": "Server",
													"description": "A name for the server"
												},
												{
													"key": "Transfer-Encoding",
													"value": "chunked",
													"name": "Transfer-Encoding",
													"description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
												},
												{
													"key": "Vary",
													"value": "Accept-Encoding, User-Agent",
													"name": "Vary",
													"description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
												}
											],
											"cookie": [
												{
													"expires": "Invalid Date",
													"httpOnly": false,
													"domain": "localhost",
													"path": "/restconf",
													"secure": false,
													"value": "ekd6v44e3q2y32rdvlb5ino",
													"key": "JSESSIONID"
												}
											],
											"responseTime": 581,
											"body": "{\"defined-sets\":{\"frinx-openconfig-bgp-policy:bgp-defined-sets\":{\"ext-community-sets\":{\"ext-community-set\":[{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}}]}}}}"
										}
									]
								},
								{
									"name": "Delete previous 2. L3VPN BGP",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP network instance",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"});",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show deleted 2. L3VPN BGP (network instance)",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"tests[\"Status code is 404\"] = responseCode.code === 404;"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "show deleted 2. L3VPN BGP (defined sets)",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var mystring = [];",
													"mystring.push(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\");",
													"mystring.push(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\");",
													"",
													"mystring.forEach(function(entry) {",
													"    tests[\"Body does not match string \" + entry] = !responseBody.has(entry);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP defined-sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"var testedobject = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"];",
													"var confcount = 0;",
													"confcount = testedobject.length;",
													"",
													"",
													"// test 1. VRF + import",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"",
													"",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"",
													"",
													"// test 1. VRF + export",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"    ",
													"",
													"tests[\"Body does not match string \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\"] = !responseBody.has(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\");",
													"tests[\"Body does not match string \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\"] = !responseBody.has(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\");"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": [
										{
											"id": "5495addd-a925-4810-8d9b-9935f49605d8",
											"name": "show L3VPN BGP defined-sets",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Basic YWRtaW46YWRtaW4="
													},
													{
														"key": "Accept",
														"value": "application/json"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"_postman_previewtype": "text",
											"header": [
												{
													"key": "Content-Encoding",
													"value": "gzip",
													"name": "Content-Encoding",
													"description": "The type of encoding used on the data."
												},
												{
													"key": "Content-Type",
													"value": "application/json",
													"name": "Content-Type",
													"description": "The mime type of this content"
												},
												{
													"key": "Server",
													"value": "Jetty(8.1.19.v20160209)",
													"name": "Server",
													"description": "A name for the server"
												},
												{
													"key": "Transfer-Encoding",
													"value": "chunked",
													"name": "Transfer-Encoding",
													"description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
												},
												{
													"key": "Vary",
													"value": "Accept-Encoding, User-Agent",
													"name": "Vary",
													"description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
												}
											],
											"cookie": [
												{
													"expires": "Invalid Date",
													"httpOnly": false,
													"domain": "localhost",
													"path": "/restconf",
													"secure": false,
													"value": "ekd6v44e3q2y32rdvlb5ino",
													"key": "JSESSIONID"
												}
											],
											"responseTime": 581,
											"body": "{\"defined-sets\":{\"frinx-openconfig-bgp-policy:bgp-defined-sets\":{\"ext-community-sets\":{\"ext-community-set\":[{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}}]}}}}"
										}
									]
								},
								{
									"name": "Configure 2. L3VPN BGP with SAFI 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"MU-230 - Here we wait 60 seconds - be patient. The reasons is that this update was not able properly configure device.\")",
													"setTimeout(function(){}, 60000);",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf2}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf2}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd2}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf2}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf2}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "show  2. L3VPN BGP network instance 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(",
													"    '\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\") + ', ' +",
													"    '\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"' + ', ' +",
													"    '\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"' + ', ' +",
													"    '\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\") + ', ' +",
													"    '\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    console.log(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"])",
													"    var arrayLength = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"].length",
													"    if (arrayLength > 0) {",
													"        for (var i = 0; i < arrayLength; i++) {",
													"            if (jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"name\"] == 'default') {",
													"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")));",
													"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\"));",
													"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\"));",
													"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")));",
													"                pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][i][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"            }",
													"        }        ",
													"    }",
													"});",
													"",
													"",
													"pm.test('\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"name\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\"));",
													"});",
													"",
													"/*",
													"pm.test('\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"), function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"",
													"pm.test('\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\"));",
													"});",
													"",
													"pm.test('\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"",
													"pm.test('\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"), function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"",
													"pm.test('\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"*/",
													"",
													"pm.test('\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\"));",
													"});",
													"",
													"pm.test('\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd2\") + '\"', function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(postman.getEnvironmentVariable(\"l3_vpn_bgp_rd2\"));",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "Configure L3VPN BGP defined sets 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf2}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP defined-sets 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"var testedobject = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"];",
													"var confcount = 0;",
													"confcount = testedobject.length;",
													"",
													"",
													"// test 1. VRF + import",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"",
													"",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"",
													"",
													"// test 1. VRF + export",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"    ",
													"",
													"// test 2. VRF + import",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                    tests[\"2. VRF - Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                    tests[\"2. VRF - Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                    tests[\"2. VRF - Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"",
													"",
													"// test 2. VRF + export",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                    tests[\"2. VRF - Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                    tests[\"2. VRF - Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                    tests[\"2. VRF - Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"    ",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": [
										{
											"id": "4602054d-a195-49b5-80a2-abfd6480f118",
											"name": "show L3VPN BGP defined-sets",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Basic YWRtaW46YWRtaW4="
													},
													{
														"key": "Accept",
														"value": "application/json"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"_postman_previewtype": "text",
											"header": [
												{
													"key": "Content-Encoding",
													"value": "gzip",
													"name": "Content-Encoding",
													"description": "The type of encoding used on the data."
												},
												{
													"key": "Content-Type",
													"value": "application/json",
													"name": "Content-Type",
													"description": "The mime type of this content"
												},
												{
													"key": "Server",
													"value": "Jetty(8.1.19.v20160209)",
													"name": "Server",
													"description": "A name for the server"
												},
												{
													"key": "Transfer-Encoding",
													"value": "chunked",
													"name": "Transfer-Encoding",
													"description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
												},
												{
													"key": "Vary",
													"value": "Accept-Encoding, User-Agent",
													"name": "Vary",
													"description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
												}
											],
											"cookie": [
												{
													"expires": "Invalid Date",
													"httpOnly": false,
													"domain": "localhost",
													"path": "/restconf",
													"secure": false,
													"value": "ekd6v44e3q2y32rdvlb5ino",
													"key": "JSESSIONID"
												}
											],
											"responseTime": 581,
											"body": "{\"defined-sets\":{\"frinx-openconfig-bgp-policy:bgp-defined-sets\":{\"ext-community-sets\":{\"ext-community-set\":[{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}}]}}}}"
										}
									]
								},
								{
									"name": "Delete previous 2. L3VPN BGP 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "show BGP global - config 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"config\"][\"name\"]).to.eql(\"default\");",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + \"default\", function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"name\"]).to.eql(\"default\");",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_global_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_global_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_global_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_global_network_prefix_mask2\"));",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"protocol\": [  \n\t   {  \n\t      \"name\":\"default\",\n\t      \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t      \"config\":{  \n\t         \"name\":\"default\",\n\t         \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n\t         \"enabled\": true\n\t      },\n\t      \"local-aggregates\": {\n\t    \t\t\"aggregate\": [\n\t        \t\t{\n\t        \t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\",\n\t        \t\t\t\"config\": {\n\t        \t\t\t\t\"prefix\": \"{{l3_vpn_bgp_global_network_prefix}}/{{l3_vpn_bgp_global_network_prefix_mask2}}\"\n\t        \t\t\t}\n\t        \t\t}\n\t        \t]\n\t        },\n\t      \"bgp\":{  \n\t         \"global\":{  \n\t            \"config\":{  \n\t               \"as\":\"{{l3_vpn_bgp_as_number_decimal}}\",\n\t               \"router-id\":\"{{l3_vpn_bgp_global_router_id}}\"\n\t            },\n\t            \"afi-safis\": {\n\t                \"afi-safi\": [\n\t                 {\n\t                  \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                     \"config\": {\n\t                         \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n\t                         \"enabled\": true\n\t                     }\n\t                 }\n\t              ]\n\t            }\n\t         },\n\t         \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_global_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_global_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n\t      }\n\t   }\n\t]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP network instance 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//name",
													"pm.test(\"Validate name = \" + pm.environment.get(\"l3_vpn_bgp_vrf\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"name\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_vrf\"));",
													"});",
													"//as",
													"pm.test(\"Validate as = \" + pm.environment.get(\"l3_vpn_bgp_as_number_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_as_number_decimal\")));",
													"});",
													"//router-id",
													"pm.test(\"Validate router-id = \" + pm.environment.get(\"l3_vpn_bgp_router_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_router_id\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//neighbor-address",
													"pm.test(\"Validate neighbor-address = \" + pm.environment.get(\"l3_vpn_bgp_neighbor_address\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"neighbor-address\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_neighbor_address\"));",
													"});",
													"//peer-as",
													"pm.test(\"Validate peer-as = \" + pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"]).to.eql(JSON.parse(pm.environment.get(\"l3_vpn_bgp_remote_as_decimal\")));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//prefix",
													"pm.test(\"Validate prefix = \" + pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"config\"][\"prefix\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_network_prefix\") + '/' + pm.environment.get(\"l3_vpn_bgp_network_prefix_mask2\"));",
													"});",
													"//id",
													"console.log(\"Here is commented validation of interface id - I do not know, why\")",
													"/*",
													"pm.test(\"Validate id = \" + pm.environment.get(\"l3_vpn_bgp_interface_id\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_interface_id\"));",
													"});",
													"*/",
													"//route-distinguisher",
													"pm.test(\"Validate route-distinguisher = \" + pm.environment.get(\"l3_vpn_bgp_rd\"), function() {",
													"  pm.expect(pm.response.json()[\"network-instance\"][0][\"config\"][\"route-distinguisher\"]).to.eql(pm.environment.get(\"l3_vpn_bgp_rd\"));",
													"});",
													"",
													"console.log(\"Response: \" + responseBody)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"tests['\"name\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + '\"'] = jsonData[\"network-instance\"][0][\"name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"tests['\"as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_as_number_decimal\"));",
													"tests['\"router-id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"global\"][\"config\"][\"router-id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_router_id\");",
													"tests['\"neighbor-address\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"neighbor-address\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_neighbor_address\");",
													"tests['\"peer-as\":' + postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\")] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"bgp\"][\"neighbors\"][\"neighbor\"][0][\"config\"][\"peer-as\"] === parseInt(postman.getEnvironmentVariable(\"l3_vpn_bgp_remote_as_decimal\"));",
													"tests['\"prefix\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\") + '\"'] = jsonData[\"network-instance\"][0][\"protocols\"][\"protocol\"][0][\"local-aggregates\"][\"aggregate\"][0][\"prefix\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix\") + '/' + postman.getEnvironmentVariable(\"l3_vpn_bgp_network_prefix_mask2\");",
													"//tests['\"id\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\") + '\"'] = jsonData[\"network-instance\"][0][\"interfaces\"][\"interface\"][0][\"id\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_interface_id\");",
													"tests['\"route-distinguisher\":\"' + postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\") + '\"'] = jsonData[\"network-instance\"][0][\"config\"][\"route-distinguisher\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_rd\");",
													"//tests[] = jsonData[\"network-instance\"][\"\"][\"\"][\"\"][][\"\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\");",
													"",
													"",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show deleted 2. L3VPN BGP (network instance) 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"tests[\"Status code is 404\"] = responseCode.code === 404;"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf2}}"
									},
									"response": []
								},
								{
									"name": "show deleted 2. L3VPN BGP (defined sets) 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"var mystring = [];",
													"mystring.push(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\");",
													"mystring.push(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\");",
													"",
													"mystring.forEach(function(entry) {",
													"    tests[\"Body does not match string \" + entry] = !responseBody.has(entry);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								},
								{
									"name": "show L3VPN BGP defined-sets 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = JSON.parse(responseBody);",
													"var testedobject = jsonData[\"defined-sets\"][\"frinx-openconfig-bgp-policy:bgp-defined-sets\"][\"ext-community-sets\"][\"ext-community-set\"];",
													"var confcount = 0;",
													"confcount = testedobject.length;",
													"",
													"",
													"// test 1. VRF + import",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"",
													"",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-import-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\"):",
													"                    tests[\"Route target import set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_imp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"",
													"",
													"// test 1. VRF + export",
													"var testedstring = postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"var wasfound = false;",
													"for (var i = 0; i < confcount; i++) {",
													"    if (testedobject[i][\"ext-community-set-name\"] === testedstring) {",
													"        tests[\"1.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"        ",
													"        tests[\"2.\" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\" + \" in \" + i] = testedobject[i][\"config\"][\"ext-community-set-name\"] === postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf\") + \"-route-target-export-set\";",
													"",
													"        var pole = testedobject[i][\"config\"][\"ext-community-member\"];",
													"        console.log(pole);",
													"        for (var i = 0; i < pole.length; i++) {",
													"            switch(pole[i]) {",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_1\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_2\")] = true;",
													"                    break;",
													"                case postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\"):",
													"                    tests[\"Route target export set contains \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_rt_exp_3\")] = true;",
													"                    break;",
													"                default:",
													"                    test[\"Found not expected value \" + pole[i]] = false;",
													"            } ",
													"        }",
													"        wasfound = true;",
													"    }",
													"}",
													"",
													"if (!wasfound) {",
													"    test[testedstring + \"was not found.\"] = false;",
													"}",
													"    ",
													"",
													"tests[\"Body does not match string \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\"] = !responseBody.has(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-export-set\");",
													"tests[\"Body does not match string \" + postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\"] = !responseBody.has(postman.getEnvironmentVariable(\"l3_vpn_bgp_vrf2\") + \"-route-target-import-set\");"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": [
										{
											"id": "9e5ea675-8224-4f3d-96e9-3116f8d210ed",
											"name": "show L3VPN BGP defined-sets",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Basic YWRtaW46YWRtaW4="
													},
													{
														"key": "Accept",
														"value": "application/json"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"_postman_previewtype": "text",
											"header": [
												{
													"key": "Content-Encoding",
													"value": "gzip",
													"name": "Content-Encoding",
													"description": "The type of encoding used on the data."
												},
												{
													"key": "Content-Type",
													"value": "application/json",
													"name": "Content-Type",
													"description": "The mime type of this content"
												},
												{
													"key": "Server",
													"value": "Jetty(8.1.19.v20160209)",
													"name": "Server",
													"description": "A name for the server"
												},
												{
													"key": "Transfer-Encoding",
													"value": "chunked",
													"name": "Transfer-Encoding",
													"description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
												},
												{
													"key": "Vary",
													"value": "Accept-Encoding, User-Agent",
													"name": "Vary",
													"description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
												}
											],
											"cookie": [
												{
													"expires": "Invalid Date",
													"httpOnly": false,
													"domain": "localhost",
													"path": "/restconf",
													"secure": false,
													"value": "ekd6v44e3q2y32rdvlb5ino",
													"key": "JSESSIONID"
												}
											],
											"responseTime": 581,
											"body": "{\"defined-sets\":{\"frinx-openconfig-bgp-policy:bgp-defined-sets\":{\"ext-community-sets\":{\"ext-community-set\":[{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}},{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"config\":{\"ext-community-set-name\":\"OTHER_SCH_VRF-route-target-import-set\",\"ext-community-member\":[\"61000:10\",\"61000:20\",\"61000:30\"]}},{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"config\":{\"ext-community-set-name\":\"THIS_IS_MY_VRF_DO_NOT_TOUCH-route-target-export-set\",\"ext-community-member\":[\"62000:40\",\"62000:50\",\"62000:60\"]}}]}}}}"
										}
									]
								},
								{
									"name": "Delete L3VPN BGP defined sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "TEARDOWN: Delete previous L3VPN BGP",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Delete BGP global",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/default/protocols/protocol/frinx-openconfig-policy-types:BGP/default"
									},
									"response": []
								},
								{
									"name": "show deleted L3VPN BGP (network instance)",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody);",
													"",
													"tests[\"Status code is 404\"] = responseCode.code === 404;"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "show deleted L3VPN BGP (defined sets)",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Response: \" + responseBody)",
													"tests[\"Status code is 404\"] = responseCode.code === 404;"
												]
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets"
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "L3VPN BGP CRUD Negative",
							"item": [
								{
									"name": "Configure L3VPN BGP defined sets",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"console.warn(\"// FIXME this is succesfully created instead of failure because there is no referenced network instance - MU-186\")",
													"",
													"// console.log(\"Response: \" + responseBody)",
													"/*",
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													"*/"
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"frinx-openconfig-bgp-policy:bgp-defined-sets\": {\n        \"ext-community-sets\": {\n            \"ext-community-set\": [\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-import-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_imp_1}}\",\n                            \"{{l3_vpn_bgp_rt_imp_2}}\",\n                            \"{{l3_vpn_bgp_rt_imp_3}}\"\n                        ]\n                    }\n                },\n                {\n                    \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                    \"config\": {\n                        \"ext-community-set-name\": \"{{l3_vpn_bgp_vrf}}-route-target-export-set\",\n                        \"ext-community-member\": [\n                            \"{{l3_vpn_bgp_rt_exp_1}}\",\n                            \"{{l3_vpn_bgp_rt_exp_2}}\",\n                            \"{{l3_vpn_bgp_rt_exp_3}}\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-routing-policy:routing-policy/defined-sets/frinx-openconfig-bgp-policy:bgp-defined-sets"
									},
									"response": []
								},
								{
									"name": "Delete interface",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Success\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([200,201]);",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-interfaces:interfaces/interface/{{l3_vpn_bgp_nonexist_interface_id}}"
									},
									"response": []
								},
								{
									"name": "Create L3VPN BGP on non existing interface",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Status code is 500\", function () {",
													"    pm.response.to.have.status(500);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"network-instance\": [\n    {\n      \"name\": \"{{l3_vpn_bgp_vrf}}\",\n      \"config\": {\n        \"name\": \"{{l3_vpn_bgp_vrf}}\",\n        \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n        \"route-distinguisher\": \"{{l3_vpn_bgp_rd}}\",\n        \"enabled-address-families\": [\n          \"{{l3_vpn_bgp_enabled_address_families}}\"\n        ],\n        \"enabled\": true\n      },\n      \"interfaces\": {\n        \"interface\": [\n          {\n            \"id\": \"{{l3_vpn_bgp_nonexist_interface_id}}\",\n            \"config\": {\n              \"id\": \"{{l3_vpn_bgp_nonexist_interface_id}}\"\n            }\n          }\n        ]\n      },\n      \"inter-instance-policies\": {\n        \"apply-policy\": {\n          \"config\": {\n            \"export-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-export\"\n            ],\n            \"import-policy\": [\n              \"{{l3_vpn_bgp_vrf}}-route-target-import\"\n            ]\n          }\n        }\n      },\n      \"protocols\": {\n        \"protocol\": [\n          {\n            \"name\": \"default\",\n            \"identifier\": \"frinx-openconfig-policy-types:BGP\",\n            \"config\": {\n              \"name\": \"default\",\n              \"identifier\":\"frinx-openconfig-policy-types:BGP\",\n              \"enabled\": true\n            },\n            \"local-aggregates\": {\n                \"aggregate\": [\n                    {\n            \t\t\t\"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\",\n                        \"config\": {\n                            \"prefix\": \"{{l3_vpn_bgp_network_prefix}}/{{l3_vpn_bgp_network_prefix_mask2}}\"\n                        }\n                    }\n                ]\n            },\n            \"bgp\": {\n              \"global\": {\n                \"config\": {\n                  \"as\": \"{{l3_vpn_bgp_as_number_decimal}}\",\n                  \"router-id\": \"{{l3_vpn_bgp_router_id}}\"\n                },\n                \"afi-safis\": {\n                  \"afi-safi\": [\n                    {\n                      \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                      \"config\": {\n                        \"afi-safi-name\": \"frinx-openconfig-bgp-types:IPV4_UNICAST\",\n                        \"enabled\": true\n                      }\n                    }\n                  ]\n                }\n              },\n              \"neighbors\": {\n                \"neighbor\": [\n                  {\n                  \"neighbor-address\"  : \"{{l3_vpn_bgp_neighbor_address}}\",\n                    \"config\": {\n                      \"neighbor-address\": \"{{l3_vpn_bgp_neighbor_address}}\",\n                      \"enabled\": true,\n                      \"peer-as\": \"{{l3_vpn_bgp_remote_as_decimal}}\"\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf}}"
									},
									"response": []
								},
								{
									"name": "Invalid L3VPN BGP vrf name",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"console.log(\"Request data: \" + request.data.toString());",
													"pm.test(\"Status code is 500\", function () {",
													"    pm.response.to.have.status(500);",
													"});",
													""
												]
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n \"network-instance\": [\n   {\n     \"name\": \"{{l3_vpn_bgp_vrf_invalid}}\",\n     \"config\": {\n       \"name\": \"{{l3_vpn_bgp_vrf_invalid}}\",\n       \"type\": \"frinx-openconfig-network-instance-types:L3VRF\",\n       \"enabled\": true\n     }\n   }\n ]\n}"
										},
										"url": "http://{{odl_ip}}:8181/restconf/config/network-topology:network-topology/topology/{{topology_id}}/node/{{node_id}}/yang-ext:mount/frinx-openconfig-network-instance:network-instances/network-instance/{{l3_vpn_bgp_vrf_invalid}}"
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						}
					],
					"_postman_isSubFolder": true
				}
			]
		}
	]
}